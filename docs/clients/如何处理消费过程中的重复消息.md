## 消息重复
在传递发送的过程中，如果出现发送失败的情况，发送方会执行重试，重试的过程中可能会产生重复的消息，就有可能
导致consumer 重复消费

### 消息
At most once 至多一次 消息传递过程中，最多会被送达一次

At least once 至少一次 传递消息时，最少被送达一次

Exactly once 恰好一次 传递消息时，只会被送达一次，精确一次，不会丢失也不会重复。

## 用幂等性解决重复消息问题
一般解决重复消费的办法是 在consumer 让我们对消费消息的操作具有幂等性。

## 如何实现幂等性？
### 利用数据库唯一约束实现幂等性
### 为更新的数据设置前提条件
给数据变更设置一个前提条件，如果满足条件就变更数据，否则拒绝变更，在更新数据的同时，变更前置条件中需要判断的数据
### 记录并检查操作

